<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <title>Sample Chibi Boy Sketch</title>
  <style>
    body { margin:0; background:#FAFAF8; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
    canvas { display:block; border:1px solid #DDD; }
  </style>
</head>
<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5.scribble@1.0.7/p5.scribble.min.js"></script>

  <script>
    let s; // Declare the scribble object globally

    function setup() {
      createCanvas(400, 500); // Now createCanvas should be defined
      
      // Initialize p5.scribble object
      // When using p5.js in global mode, 'this' refers to the global p5 object.
      // Some versions of p5.scribble expect `p5` directly, others `this`.
      // `new p5.Scribble()` (without 'this' or 'p') often works best in global mode
      // if the library attaches itself correctly to the global 'p5' object.
      s = new p5.Scribble(); 
      
      // Set scribble properties for light, pencil-drawn look
      s.maxOffset = 0.8; 
      s.minOffset = 0.3;
      s.strokeWidth = 0.6; // Thin stroke

      noLoop(); // We only draw once
    }

    function draw() {
      background('#FAFAF8'); // Light background
      drawChibiBoy(width / 2, 250); // Draw in the middle of the canvas
    }

    // Function to draw a sample Chibi Boy character
    function drawChibiBoy(cx, cy) {
      stroke(51); // Dark grey stroke
      noFill();   // No fill for scribble shapes

      // --- Head ---
      s.scribbleEllipse(cx, cy - 80, 160, 160); // Head (larger circle)

      // --- Eyes ---
      s.scribbleEllipse(cx - 30, cy - 95, 40, 25); // Left eye outline
      s.scribbleEllipse(cx + 30, cy - 95, 40, 25); // Right eye outline
      
      // Pupils (solid circles)
      noStroke(); 
      fill(51); // Black fill for pupils
      circle(cx - 30, cy - 95, 12);
      circle(cx + 30, cy - 95, 12);
      stroke(51); // Reset stroke for scribble
      noFill();   // Reset noFill for scribble

      // --- Mouth (a simple line smile) ---
      s.scribbleLine(cx - 20, cy - 50, cx, cy - 40);
      s.scribbleLine(cx, cy - 40, cx + 20, cy - 50);

      // --- Hair (simple bangs and side hair) ---
      // Arc for top of head
      s.scribbleArc(cx, cy - 160, 180, 180, PI * 1.2, PI * 1.8);

      // Bangs (scribbled lines)
      for (let i = -3; i <= 3; i++) {
        let x1 = cx + (i * 10) + random(-5, 5);
        let y1 = cy - 160 + random(-5, 5);
        let x2 = cx + (i * 15) + random(-8, 8);
        let y2 = cy - 120 + random(-5, 5);
        s.scribbleLine(x1, y1, x2, y2);
      }
      
      // Side hair (curved lines)
      s.scribbleLine(cx - 80, cy - 100, cx - 120, cy - 60);
      s.scribbleLine(cx + 80, cy - 100, cx + 120, cy - 60);

      // --- Body (simple rectangle) ---
      s.scribbleRect(cx, cy + 10, 80, 100);

      // --- Arms (simple lines with circular hands) ---
      s.scribbleLine(cx - 40, cy - 20, cx - 80, cy + 30); // Left arm
      s.scribbleEllipse(cx - 80, cy + 30, 25, 25);       // Left hand

      s.scribbleLine(cx + 40, cy - 20, cx + 80, cy + 30); // Right arm
      s.scribbleEllipse(cx + 80, cy + 30, 25, 25);       // Right hand

      // --- Legs (simple lines with oval feet) ---
      s.scribbleLine(cx - 20, cy + 60, cx - 20, cy + 120); // Left leg
      s.scribbleEllipse(cx - 20, cy + 135, 30, 20);        // Left foot

      s.scribbleLine(cx + 20, cy + 60, cx + 20, cy + 120); // Right leg
      s.scribbleEllipse(cx + 20, cy + 135, 30, 20);        // Right foot
    }
  </script>
</body>
</html>
